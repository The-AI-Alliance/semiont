{
  "name": "Semiont Development (Pre-build)",
  "build": {
    "dockerfile": "Dockerfile",
    "context": "."
  },
  "workspaceFolder": "/workspace",

  // Features to add to the dev container
  // These will be baked into the pre-built image
  "features": {
    "ghcr.io/devcontainers/features/node:1": {
      "version": "22"
    },
    "ghcr.io/devcontainers/features/docker-in-docker:2": {},
    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/devcontainers/features/github-cli:1": {}
  },

  "remoteUser": "node",

  // Environment variables for the build
  "containerEnv": {
    "DATABASE_URL": "postgresql://semiont:semiont@localhost:5432/semiont?schema=public",
    "NODE_ENV": "development"
  }
}
